<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Pyro &mdash; Operators</title>
        <link rel="stylesheet" href="../assets/fonts.css">
        <link rel="stylesheet" href="../assets/graphite.css">
        <link rel="stylesheet" href="../assets/pygments.css">
        
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ”¥</text></svg>">

    </head>
    <body class="node-features-operators node-features node">
        <header class="masthead">
            <h1><a href="../index.html">Pyro</a></h1>
            
                <p class="tagline">A scripting language for people who enjoy the simpler things in life.</p>
            
            
                <p class="version">Version 0.9.6</p>
            
            <nav class="menu">
                <input id="menu-check" type="checkbox"/>
                <label id="menu-label" for="menu-check" class="unselectable">
                    <span class="icon close-icon">âœ•</span>
                    <span class="icon open-icon">â˜°</span>
                    <span class="text">Menu</span>
                </label>
                <ul>
<li><a href="../index.html">Home</a></li>
<li><a href="../quickstart.html">Quickstart</a></li>
<li><a href="../tour.html">Language Tour</a></li>
<li><a href="../building.html">Building &amp; Installing</a></li>
<li><a href="../repl.html">The REPL</a></li>
<li><a href="../features.html">Language Features</a></li>
<li><a href="../builtins.html">Builtin Types</a></li>
<li><a href="../superglobals.html">Superglobals</a></li>
<li><a href="../stdlib.html">Standard Library</a></li>
<li><a href="../examples.html">Examples</a></li>
<li><a href="../tutorials.html">Tutorials</a></li>
<li><a href="../roadmap.html">Roadmap</a></li>
<li><a href="../faq.html">FAQ</a></li>
<li><a href="../syntax-highlighting.html">Syntax Highlighting</a></li>
<li><a href="../acknowledgements.html">Acknowledgements</a></li>
<li><a href="../license.html">License</a></li>
<li><a href="https://github.com/dmulholl/pyro">Github</a></li>
</ul>
            </nav>
        </header>
        <article class="main">
            <header class="title">
                <h1>Operators</h1>
                
                <hr>
            </header>
            <ul class="stx-toc">
<li>
<a href="#operator-precedence">Operator Precedence</a>
</li>
<li>
<a href="#mathematical-operators">Mathematical Operators</a>
</li>
<li>
<a href="#equality-comparison-operators">Equality &amp; Comparison Operators</a>
</li>
<li>
<a href="#logical-operators">Logical Operators</a>
</li>
<li>
<a href="#the-conditional-operator">The Conditional Operator</a>
</li>
<li>
<a href="#the-null-coalescing-operator">The Null-coalescing Operator</a>
</li>
<li>
<a href="#the-error-coalescing-operator">The Error-coalescing Operator</a>
</li>
<li>
<a href="#the-else-coalescing-operator">The Else-coalescing Operator</a>
</li>
<li>
<a href="#assignment-operators">Assignment Operators</a>
</li>
<li>
<a href="#overloading-operators">Overloading Operators</a>
</li>
</ul>
<h3 id="operator-precedence">
Operator Precedence
</h3>
<p>
Operator precedence in the table below goes from high at the top to low at the bottom. Operators at the same level have the same precedence.
</p>
<table>
<thead>
<tr>
<th>
Level
</th>
<th>
Operators
</th>
<th>
Associativity
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
Call
</td>
<td>
<code>()</code> <code>[]</code> <code>.</code> <code>:</code> <code>::</code>
</td>
<td>
Left
</td>
</tr>
<tr>
<td>
Power
</td>
<td>
<code>**</code>
</td>
<td>
Right
</td>
</tr>
<tr>
<td>
Unary
</td>
<td>
<code>!</code> <code>+</code> <code>-</code> <code>~</code> <code>try</code>
</td>
<td>
Right
</td>
</tr>
<tr>
<td>
Bitwise
</td>
<td>
<code>&amp;</code> <code>&#124;</code> <code>^</code> <code>&gt;&gt;</code> <code>&lt;&lt;</code>
</td>
<td>
Left
</td>
</tr>
<tr>
<td>
Multiplication
</td>
<td>
<code>*</code> <code>/</code> <code>//</code> <code>%</code>
</td>
<td>
Left
</td>
</tr>
<tr>
<td>
Addition
</td>
<td>
<code>+</code> <code>-</code>
</td>
<td>
Left
</td>
</tr>
<tr>
<td>
Comparison
</td>
<td>
<code>&gt;</code> <code>&gt;=</code> <code>&lt;</code> <code>&lt;=</code> <code>in</code>
</td>
<td>
Left
</td>
</tr>
<tr>
<td>
Equality
</td>
<td>
<code>==</code> <code>!=</code>
</td>
<td>
Left
</td>
</tr>
<tr>
<td>
Logical
</td>
<td>
<code>&amp;&amp;</code> <code>&#124;&#124;</code> <code>??</code> <code>!!</code> <code>else</code>
</td>
<td>
Left
</td>
</tr>
<tr>
<td>
Conditional
</td>
<td>
<code>? :&#124;</code>
</td>
<td>
None
</td>
</tr>
<tr>
<td>
Assignment
</td>
<td>
<code>=</code> <code>+=</code> <code>-=</code>
</td>
<td>
Right
</td>
</tr>
</tbody>
</table>
<p>
Note that conditional expressions using the ternary operator <code>? :|</code> can't be nested. (Checkmate, Satan.)
</p>
<h3 id="mathematical-operators">
Mathematical Operators
</h3>
<table>
<tbody>
<tr>
<td>
<code>+</code>
</td>
<td>
Addition (binary) or a no-op (unary). Addition returns an integer if both operands are integers or a float if either or both are floats.
</td>
</tr>
<tr>
<td>
<code>-</code>
</td>
<td>
Subtraction (binary) or negation (unary). Subtraction returns an integer if both operands are integers or a float if either or both are floats.
</td>
</tr>
<tr>
<td>
<code>*</code>
</td>
<td>
Multiplication. Returns an integer if both operands are integers or a float if either or both are floats.
</td>
</tr>
<tr>
<td>
<code>/</code>
</td>
<td>
Floating-point division. Both operands will be converted to floats and the result will be a float.
</td>
</tr>
<tr>
<td>
<code>//</code>
</td>
<td>
Truncating division. Returns an integer if both operands are integers or a float if either or both are floats.
</td>
</tr>
<tr>
<td>
<code>%</code>
</td>
<td>
Modulo/remainder operator. Returns an integer if both operands are integers or a float if either or both are floats.
</td>
</tr>
<tr>
<td>
<code>**</code>
</td>
<td>
Power operator. Both operands are converted to floats and the result is a float.
</td>
</tr>
</tbody>
</table>
<p>
You can overload the mathematical operators to customize their behaviour for your own types.
</p>
<h3 id="equality-comparison-operators">
Equality &amp; Comparison Operators
</h3>
<p>
The equality (<code>==</code>, <code>!=</code>) and comparison (<code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, <code>&lt;=</code>) operators each take two operands and evaluate to a boolean.
</p>
<ul>
<li>
Numbers are equal if their values are numerically equal.
</li>
<li>
Strings are equal if they have the same content.
</li>
<li>
Tuples are equal if they have the same length and their elements are equal.
</li>
<li>
Sets are equal if they are set-equivalent, i.e. if they contain the same items in any order.
</li>
<li>
By default, all other objects are equal only if they are the same object.
</li>
</ul>
<p>
You can overload the equality and comparison operators to customize their behaviour for your own types.
</p>
<h3 id="logical-operators">
Logical Operators
</h3>
<p>
The logical operators are <code>||</code> (OR), <code>&amp;&amp;</code> (AND), and <code>!</code> (NOT). They evaluate the <i>truthiness</i> of their operands.
</p>
<p>
In Pyro, the values <code>false</code>, <code>null</code>, and <code>err</code> are <i>falsey</i>; all other values are <i>truthy</i>.
</p>
<p>
The logical operators <code>||</code> and <code>&amp;&amp;</code> are short-circuiting.
</p>
<p>
The value of the logical-OR expression <code>a || b</code> is the value of the first operand if that operand is <i>truthy</i>, otherwise the value of the second operand.
</p>
<p>
This means you can use the <code>||</code> operator to swap in a default value in place of a <i>falsey</i> expression, e.g.
</p>
<pre class="lang-pyro pygments" data-lang="pyro">
<span class="kd">var</span> <span class="nx">value</span> <span class="p">=</span> <span class="nx">maybe_falsey</span><span class="p">()</span> <span class="o">||</span> <span class="s">&quot;default&quot;</span><span class="p">;</span>
</pre>
<p>
Note that you can chain multiple <code>||</code> expressions, e.g.
</p>
<pre class="lang-pyro pygments" data-lang="pyro">
<span class="kd">var</span> <span class="nx">value</span> <span class="p">=</span> <span class="nx">maybe_falsey</span><span class="p">()</span> <span class="o">||</span> <span class="nx">get_fallback</span><span class="p">()</span> <span class="o">||</span> <span class="s">&quot;default&quot;</span><span class="p">;</span>
</pre>
<p>
The value of the logical-AND expression <code>a &amp;&amp; b</code> is the value of the first operand if that operand is <i>falsey</i>, otherwise the value of the second operand.
</p>
<p>
This means you can use the <code>&amp;&amp;</code> operator to conditionally chain a sequence of expressions, e.g.
</p>
<pre class="lang-pyro pygments" data-lang="pyro">
<span class="nx">func1</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="nx">func2</span><span class="p">();</span>
</pre>
<p>
<code>func2()</code> will only be called if <code>func1()</code> returns a <i>truthy</i> value.
</p>
<p>
Note that you can chain multiple <code>&amp;&amp;</code> expressions, e.g.
</p>
<pre class="lang-pyro pygments" data-lang="pyro">
<span class="nx">func1</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="nx">func2</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="nx">func3</span><span class="p">();</span>
</pre>
<p>
<code>func2()</code> will only be called if <code>func1()</code> returns a <i>truthy</i> value; <code>func3()</code> will only be called if <code>func2()</code> returns a <i>truthy</i> value.
</p>
<h3 id="the-conditional-operator">
The Conditional Operator
</h3>
<p>
The conditional or ternary operator takes three operands. It looks like this:
</p>
<pre class="lang-pyro pygments" data-lang="pyro">
<span class="kd">var</span> <span class="nx">value</span> <span class="p">=</span> <span class="nx">condition</span> <span class="o">?</span> <span class="nx">expr1</span> <span class="p">:</span><span class="o">|</span> <span class="nx">expr2</span><span class="p">;</span>
</pre>
<p>
The value of the conditional expression is <code>expr1</code> if <code>condition</code> evaluates as <i>truthy</i>, otherwise <code>expr2</code>.
</p>
<h3 id="the-null-coalescing-operator">
The Null-coalescing Operator
</h3>
<p>
The null-coalescing operator <code>??</code> lets you swap in a default value in place of a <code>null</code>:
</p>
<pre class="lang-pyro pygments" data-lang="pyro">
<span class="kd">var</span> <span class="nx">value</span> <span class="p">=</span> <span class="nx">maybe_null</span><span class="p">()</span> <span class="o">??</span> <span class="s">&quot;default&quot;</span><span class="p">;</span>
</pre>
<p>
The value of the expression <code>a ?? b</code> is the value of the first operand if that operand is not <code>null</code>, otherwise the value of the second operand.
</p>
<p>
You can chain multiple <code>??</code> expressions, e.g.
</p>
<pre class="lang-pyro pygments" data-lang="pyro">
<span class="kd">var</span> <span class="nx">value</span> <span class="p">=</span> <span class="nx">maybe_null</span><span class="p">()</span> <span class="o">??</span> <span class="nx">get_fallback</span><span class="p">()</span> <span class="o">??</span> <span class="s">&quot;default&quot;</span><span class="p">;</span>
</pre>
<h3 id="the-error-coalescing-operator">
The Error-coalescing Operator
</h3>
<p>
The error-coalescing operator <code>!!</code> lets you swap in a default value in place of an error:
</p>
<pre class="lang-pyro pygments" data-lang="pyro">
<span class="kd">var</span> <span class="nx">value</span> <span class="p">=</span> <span class="nx">maybe_error</span><span class="p">()</span> <span class="o">!!</span> <span class="s">&quot;default&quot;</span><span class="p">;</span>
</pre>
<p>
The value of the expression <code>a !! b</code> is the value of the first operand if that operand is not an <code>err</code>, otherwise the value of the second operand.
</p>
<p>
You can chain multiple <code>!!</code> expressions, e.g.
</p>
<pre class="lang-pyro pygments" data-lang="pyro">
<span class="kd">var</span> <span class="nx">value</span> <span class="p">=</span> <span class="nx">maybe_error</span><span class="p">()</span> <span class="o">??</span> <span class="nx">get_fallback</span><span class="p">()</span> <span class="o">??</span> <span class="s">&quot;default&quot;</span><span class="p">;</span>
</pre>
<h3 id="the-else-coalescing-operator">
The Else-coalescing Operator
</h3>
<p>
The else-coalescing operator <code>else</code> lets you swap in a default value in place of a broadly-defined <i>falsey-ish</i> value:
</p>
<pre class="lang-pyro pygments" data-lang="pyro">
<span class="kd">var</span> <span class="nx">value</span> <span class="p">=</span> <span class="nx">get_value</span><span class="p">()</span> <span class="k">else</span> <span class="s">&quot;default&quot;</span><span class="p">;</span>
</pre>
<p>
The value of the expression <code>a else b</code> is the value of the first operand if that value is not one of (<code>false</code>, <code>null</code>, <code>err</code>, <code>0</code>, <code>0.0</code>, or <code>&quot;&quot;</code>), otherwise the value of the second operand.
</p>
<p>
You can chain multiple <code>else</code> expressions, e.g.
</p>
<pre class="lang-pyro pygments" data-lang="pyro">
<span class="kd">var</span> <span class="nx">value</span> <span class="p">=</span> <span class="nx">get_value</span><span class="p">()</span> <span class="k">else</span> <span class="nx">get_fallback</span><span class="p">()</span> <span class="k">else</span> <span class="s">&quot;default&quot;</span><span class="p">;</span>
</pre>
<h3 id="assignment-operators">
Assignment Operators
</h3>
<p>
An assignment expression, <code>a = b</code>, returns the value assigned, e.g.
</p>
<pre class="lang-pyro pygments" data-lang="pyro">
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">bar</span> <span class="p">=</span> <span class="p">(</span><span class="nx">foo</span> <span class="p">=</span> <span class="mi">5</span><span class="p">);</span>
<span class="k">assert</span> <span class="nx">bar</span> <span class="o">==</span> <span class="mi">5</span><span class="p">;</span>
</pre>
<p>
Assignment using a compound assignment operator, e.g.
</p>
<pre class="lang-pyro pygments" data-lang="pyro">
<span class="nx">foo</span> <span class="o">+=</span> <span class="nx">bar</span><span class="p">;</span>
</pre>
<p>
is equivalent to the longform expression:
</p>
<pre class="lang-pyro pygments" data-lang="pyro">
<span class="nx">foo</span> <span class="p">=</span> <span class="nx">foo</span> <span class="o">+</span> <span class="nx">bar</span><span class="p">;</span>
</pre>
<p>
Compound assignment operators cannot be overloaded independently of their base operators &mdash; i.e. overloading <code>+</code> automatically overloads <code>+=</code>;
</p>
<h3 id="overloading-operators">
Overloading Operators
</h3>
<p>
The following operators can be overloaded by user-defined types:
</p>
<ul>
<li>
<code>()</code>
</li>
<li>
<code>[]</code>
</li>
<li>
<code>&amp;</code>
</li>
<li>
<code>^</code>
</li>
<li>
<code>|</code>
</li>
<li>
<code>==</code>
</li>
<li>
<code>&gt;</code>
</li>
<li>
<code>&gt;=</code>
</li>
<li>
<code>&lt;</code>
</li>
<li>
<code>&lt;=</code>
</li>
<li>
<code>-</code> (binary/unary)
</li>
<li>
<code>+</code> (binary/unary)
</li>
<li>
<code>%</code>
</li>
<li>
<code>/</code>
</li>
<li>
<code>//</code>
</li>
<li>
<code>*</code>
</li>
<li>
<code>**</code>
</li>
</ul>
<p>
You can overload these operators using the <code>$</code>-prefixed methods listed <a href="../features/classes.html#dollar-methods">here</a>.
</p>
        </article>
        
    </body>
</html>
