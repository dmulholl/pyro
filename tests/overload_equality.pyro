class Object {
    pub var value;

    def $init(value) {
        self.value = value;
    }

    def $op_binary_equals_equals(other) {
        return self.value == other.value;
    }

    def $hash() {
        return $hash(self.value);
    }
}

assert Object(0) == Object(0);
assert Object(1) == Object(1);
assert Object(1) != Object(0);

assert $hash(Object(0)) == $hash(Object(0));
assert $hash(Object(1)) == $hash(Object(1));
assert $hash(Object(1)) != $hash(Object(0));
