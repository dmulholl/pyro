class Foo {
    def $init(arg) {
        if arg == "panic" {
            $panic("oh no!", 123);
        }
    }
}

var foo1 = try Foo("okay");
assert !$is_err(foo1);

var foo2 = try Foo("panic");
assert $is_err(foo2);
assert foo2[0] == 123;
assert foo2[1] == "oh no!";
