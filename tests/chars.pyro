# 1-byte utf8 literals.
assert $is_char('A');
assert $str('A') == "A";
assert $i64('A') == 0x41;
assert $char(0x41) == 'A';

# 2-byte utf8 literals.
assert $is_char('Â§');
assert $str('Â§') == "Â§";
assert $i64('Â§') == 0xA7;
assert $char(0xA7) == 'Â§';

# 3-byte utf8 literals.
assert $is_char('â‚¬');
assert $str('â‚¬') == "â‚¬";
assert $i64('â‚¬') == 0x20AC;
assert $char(0x20AC) == 'â‚¬';

# 4-byte utf8 literals.
assert $is_char('ğ€€');
assert $str('ğ€€') == "ğ€€";
assert $i64('ğ€€') == 0x10000;
assert $char(0x10000) == 'ğ€€';
assert $is_char('ğŸ‘');
assert $str('ğŸ‘') == "ğŸ‘";
assert $i64('ğŸ‘') == 0x1F44D;
assert $char(0x1F44D) == 'ğŸ‘';

var foo = "aÂ§bâ‚¬cğŸ‘d";
assert foo:char(0) == 'a';
assert foo:char(1) == 'Â§';
assert foo:char(2) == 'b';
assert foo:char(3) == 'â‚¬';
assert foo:char(4) == 'c';
assert foo:char(5) == 'ğŸ‘';
assert foo:char(6) == 'd';

assert "":char_count() == 0;
assert "a":char_count() == 1;
assert "abc":char_count() == 3;
assert "aÂ§bâ‚¬cğŸ‘d":char_count() == 7;


def $test_adding_chars() {
    assert 'a' + 'b' == "ab";
    assert 'â‚¬' + 'ğŸ”¥' == "â‚¬ğŸ”¥";
}


def $test_appending_char_to_string() {
    assert "foo" + 'x' == "foox";
    assert "foo" + 'ğŸ”¥' == "fooğŸ”¥";
}


def $test_prepending_char_to_string() {
    assert 'x' + "foo" == "xfoo";
    assert 'ğŸ”¥' + "foo" == "ğŸ”¥foo";
}


def $test_multiplication_by_int() {
    assert 'x' * 0 == "";
    assert 'x' * 3 == "xxx";
    assert 'ğŸ”¥' * 3 == "ğŸ”¥ğŸ”¥ğŸ”¥";
}
