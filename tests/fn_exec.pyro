var mod1 = $exec("");
assert $is_module(mod1);

var mod2 = $exec("pub var foo = 1 + 2 + 3;");
assert $is_module(mod2);
assert mod2::foo == 6;

var mod3 = $exec("pub var foo, bar; foo = $str(123); bar = 'a' + 'b';");
assert $is_module(mod3);
assert mod3::foo == "123";
assert mod3::bar == "ab";

var code = `
pub def add(x, y) {
    return x + y;
}
`;

var mod4 = $exec(code);
assert $is_module(mod4);
assert mod4::add(1, 2) == 3;
