class Object {
    pub var value;

    def $init(value) {
        self.value = value;
    }

    def $op_binary_equals_equals(other) {
        if $is_instance_of(other, Object) {
            return self.value == other.value;
        }
        return self.value == other;
    }

    def $op_binary_plus(other) {
        return Object(self.value + other);
    }

    def $rop_binary_plus(other) {
        return Object(self.value + other);
    }

    def $op_binary_minus(other) {
        return Object(self.value - other);
    }

    def $rop_binary_minus(other) {
        return Object(other - self.value);
    }

    def $op_binary_star(other) {
        return Object(self.value * other);
    }

    def $op_unary_minus() {
        return Object(-self.value);
    }
}

var object = Object(0);
assert object.value == 0;

# Comparisons.
assert Object(0) == Object(0);
assert Object(99) == Object(99);
assert Object(5) == 5;
assert 5 == Object(5);

# Arithmetic.
object = Object(0) + 5;
assert object.value == 5;

object = 5 + Object(0);
assert object.value == 5;

object = Object(0) - 5;
assert object.value == -5;

object = 5 - Object(1);
assert object.value == 4;

object = Object(10) * 5;
assert object.value == 50;

object = -Object(5);
assert object.value == -5;
