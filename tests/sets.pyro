assert !$is_set("foobar");

var foo = $set();
assert $is_set(foo);
assert foo:count() == 0;
assert foo:is_empty();

foo:add("abc");
foo:add("def");
foo:add(123);
foo:add(456);

foo:add("abc");
foo:add(123);

assert foo:count() == 4;
assert !foo:is_empty();
assert foo:contains("abc");
assert foo:contains(123);
assert !foo:contains("foo");
assert !foo:contains(999);

foo:remove("abc");
foo:remove(123);

assert foo:count() == 2;
assert !foo:contains("abc");
assert !foo:contains(123);


def $test_make_set_from_iterable() {
    var foo = $set([1, 2, 3, 1, 2, 3]);
    assert $is_set(foo);
    assert foo:count() == 3;
    assert foo:contains(1);

    var bar = $set("abc":chars());
    assert $is_set(bar);
    assert bar:count() == 3;
    assert bar:contains('a');
}


def $test_contains() {
    var set = $set(["abc", "def", "ghi"]);

    assert set:contains("abc");
    assert set:contains("def");
    assert set:contains("ghi");
    assert !set:contains("jkl");
    assert !set:contains(123);
}


def $test_in() {
    var set = $set(["abc", "def", "ghi"]);

    assert "abc" in set;
    assert "def" in set;
    assert "ghi" in set;

    assert "jkl" in set == false;
    assert false == "jkl" in set;
    assert !("jkl" in set);

    assert 123 in set == false;
}
